'use strict';

const CHUNK_LENGTH_1MB = 1024 * 1024;
function chunkBuffer(input, length) {
    let buffer = input instanceof Buffer ? input : Buffer.from(input);
    const result = [];
    while (buffer.length > length) {
        const chunk = buffer.slice(0, length);
        buffer = buffer.slice(length);
        result.push(chunk);
    }
    if (buffer.length) {
        result.push(buffer);
    }
    return result;
}

exports.CHUNK_LENGTH_1MB = CHUNK_LENGTH_1MB;
exports.chunkBuffer = chunkBuffer;
