import { ED25519ExtendedPrivateKey, SignerWithPublicKey, PublicKey } from '@mailchain/crypto';
import { TransportApiInterface } from '@mailchain/api';
import { Configuration, MailchainResult } from '../../';
export declare class SomeDeliveryRequestsFailedError extends Error {
    readonly successes: Array<{
        params: SendDeliveryRequestParams;
        data: SentDeliveryRequest;
    }>;
    readonly failures: Array<{
        params: SendDeliveryRequestParams;
        error: SendDeliveryRequestError;
    }>;
    constructor(successes: Array<{
        params: SendDeliveryRequestParams;
        data: SentDeliveryRequest;
    }>, failures: Array<{
        params: SendDeliveryRequestParams;
        error: SendDeliveryRequestError;
    }>);
}
export type SendManyDeliveryRequestError = SomeDeliveryRequestsFailedError;
export type SentManyDeliveryRequests = SentDeliveryRequest[];
export type SendManyDeliveryRequestsParams = {
    recipients: PublicKey[];
    payloadUri: string;
    payloadRootEncryptionKey: ED25519ExtendedPrivateKey;
};
type SendDeliveryRequestParams = {
    recipientMessageKey: PublicKey;
    payloadUri: string;
    payloadRootEncryptionKey: ED25519ExtendedPrivateKey;
};
export type SentDeliveryRequest = {
    deliveryRequestId: string;
    recipientMessageKey: PublicKey;
};
export type SendDeliveryRequestError = SendDeliveryRequestTransportError;
export declare class SendDeliveryRequestTransportError extends Error {
    readonly params: SendDeliveryRequestParams;
    constructor(cause: any, params: SendDeliveryRequestParams);
}
export declare class DeliveryRequests {
    private readonly transportApi;
    constructor(transportApi: TransportApiInterface);
    static create(configuration: Configuration, sender: SignerWithPublicKey): DeliveryRequests;
    /**
     * Send the same payload delivery request to multiple recipients
     */
    sendManyDeliveryRequests(params: SendManyDeliveryRequestsParams): Promise<MailchainResult<SentManyDeliveryRequests, SendManyDeliveryRequestError>>;
    /**
     * Create delivery request for the recipient of the message providing the key used to encrypt the payload.
     *
     * @param recipientMessageKey the key of the message
     * @param messageUri the URL to get the message from
     * @param payloadRootEncryptionKey the root ephemeral key used to encrypt the Payload
     */
    sendDeliveryRequest(params: SendDeliveryRequestParams): Promise<MailchainResult<SentDeliveryRequest, SendDeliveryRequestError>>;
}
export {};
