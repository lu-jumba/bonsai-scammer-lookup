import { SignerWithPublicKey } from '@mailchain/crypto';
import { Configuration, MailchainResult } from '../..';
import { DeliveryRequests, SentManyDeliveryRequests, SentDeliveryRequest, SomeDeliveryRequestsFailedError, SendManyDeliveryRequestsParams } from '../deliveryRequests/deliveryRequests';
import { ResolvedAddress } from '../../messagingKeys';
import { PreparedDistribution } from './payloadSender';
export type SentMailDeliveryRequests = SentDeliveryRequest[];
export type SendMailDeliveryRequestsError = SendMailDeliveryRequestsFailuresError;
export declare class SendMailDeliveryRequestsFailuresError extends Error {
    readonly successes: Array<{
        params: SendManyDeliveryRequestsParams;
        data: SentManyDeliveryRequests;
    }>;
    readonly failures: Array<{
        params: SendManyDeliveryRequestsParams;
        error: SomeDeliveryRequestsFailedError;
    }>;
    readonly type = "send_mail_delivery_request_failures";
    readonly docs = "https://docs.mailchain.com/developer/errors/codes#send_mail_delivery_request_failures";
    constructor(successes: Array<{
        params: SendManyDeliveryRequestsParams;
        data: SentManyDeliveryRequests;
    }>, failures: Array<{
        params: SendManyDeliveryRequestsParams;
        error: SomeDeliveryRequestsFailedError;
    }>);
}
export type SendMailDeliveryRequestsParams = {
    distributions: PreparedDistribution[];
    resolvedAddresses: Map<string, ResolvedAddress>;
};
export declare class MailDeliveryRequests {
    private readonly deliveryRequests;
    constructor(deliveryRequests: DeliveryRequests);
    static create(configuration: Configuration, sender: SignerWithPublicKey): MailDeliveryRequests;
    /**
     * Send the prepared payloads to each recipient.
     * A single payload maybe be sent to multiple recipients in the case of multiple recipients.
     * Separate payloads are sent to each recipient in the case of bcc recipients.
     */
    sendMailDeliveryRequests(params: SendMailDeliveryRequestsParams): Promise<MailchainResult<SentMailDeliveryRequests, SendMailDeliveryRequestsError>>;
}
