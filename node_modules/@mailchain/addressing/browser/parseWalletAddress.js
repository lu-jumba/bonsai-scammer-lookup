import { ALL_PROTOCOLS, MAILCHAIN } from './protocols/consts.js';

function parseWalletAddress(address) {
    const domainParts = address.domain.split('.');
    if (domainParts.length <= 2)
        return undefined;
    const protocol = ALL_PROTOCOLS.find((search) => domainParts[0] == search);
    if (protocol == null || protocol === MAILCHAIN)
        return undefined;
    const protocolIndex = domainParts.indexOf(protocol);
    const network = domainParts[protocolIndex - 1];
    return { protocol, network };
}

export { parseWalletAddress };
