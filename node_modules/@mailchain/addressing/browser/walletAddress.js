import { casingByProtocol } from './addressCasing.js';
import { createNameServiceAddress } from './nameServiceAddress.js';
import { MAILCHAIN } from './protocols/consts.js';

/**
 * Helper method for creating of {@link MailchainAddress} for when the address is with specific protocol.
 * It provides the correct casing for the username.
 */
function createWalletAddress(username, protocol, mailchainAddressDomain) {
    protocol = protocol.toLowerCase();
    const casedUsername = casingByProtocol(username, protocol);
    if (protocol === MAILCHAIN)
        return createNameServiceAddress(casedUsername, mailchainAddressDomain);
    return createNameServiceAddress(casedUsername, protocol, mailchainAddressDomain);
}

export { createWalletAddress };
