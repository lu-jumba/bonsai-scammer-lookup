'use strict';

var consts = require('./protocols/consts.js');

function parseWalletAddress(address) {
    const domainParts = address.domain.split('.');
    if (domainParts.length <= 2)
        return undefined;
    const protocol = consts.ALL_PROTOCOLS.find((search) => domainParts[0] == search);
    if (protocol == null || protocol === consts.MAILCHAIN)
        return undefined;
    const protocolIndex = domainParts.indexOf(protocol);
    const network = domainParts[protocolIndex - 1];
    return { protocol, network };
}

exports.parseWalletAddress = parseWalletAddress;
