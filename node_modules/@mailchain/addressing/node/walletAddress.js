'use strict';

var addressCasing = require('./addressCasing.js');
var nameServiceAddress = require('./nameServiceAddress.js');
var consts = require('./protocols/consts.js');

/**
 * Helper method for creating of {@link MailchainAddress} for when the address is with specific protocol.
 * It provides the correct casing for the username.
 */
function createWalletAddress(username, protocol, mailchainAddressDomain) {
    protocol = protocol.toLowerCase();
    const casedUsername = addressCasing.casingByProtocol(username, protocol);
    if (protocol === consts.MAILCHAIN)
        return nameServiceAddress.createNameServiceAddress(casedUsername, mailchainAddressDomain);
    return nameServiceAddress.createNameServiceAddress(casedUsername, protocol, mailchainAddressDomain);
}

exports.createWalletAddress = createWalletAddress;
