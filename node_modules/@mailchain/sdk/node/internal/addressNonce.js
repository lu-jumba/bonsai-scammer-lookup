'use strict';

var configuration = require('@mailchain/internal/configuration');
var messagingKeys = require('@mailchain/internal/messagingKeys');

/**
 * Get the latest nonce for an address.
 *
 * @param address the protocol get the latest nonce for.
 * @param protocol where to find the address.
 * @returns The latest nonce for the given address.
 */
async function getMessagingKeyLatestNonce(address, protocol) {
    return messagingKeys.AddressNonce.create(configuration.defaultConfiguration).getMessagingKeyLatestNonce(address, protocol);
}

exports.getMessagingKeyLatestNonce = getMessagingKeyLatestNonce;
